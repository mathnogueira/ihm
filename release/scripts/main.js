"use strict";!function(){function e(e){angular.extend(e,{positionClass:"toast-bottom-center"})}angular.module("app",["ui.router","mobile-angular-ui","ngAnimate","toastr"]).config(e),e.$inject=["toastrConfig"]}(),function(){function e(e,t){t.otherwise("/"),e.state({name:"Home",url:"/",templateUrl:"app/initial/home.html",controller:"HomeController",controllerAs:"home",params:{ignore:!1}}).state({name:"Logged",url:"/logged",templateUrl:"app/logged/home.html",controller:"LoggedHomeController",controllerAs:"home",params:{ignore:!1,pageName:"Todos os eventos"},resolve:{events:["EventService",function(e){return e.list()}]}}).state({name:"EventDetails",url:"/event/details/:id",templateUrl:"app/event/details.html",controller:"EventDetailsController",controllerAs:"eventCtrl",params:{event:null,pageName:"Detalhes do evento"},resolve:{event:["EventService","$stateParams",function(e,t){return e.get(+t.id)}]}}).state({name:"AddEvent",url:"/event/add",templateUrl:"app/event/add.html",controller:"EventAddController",controllerAs:"eventCtrl",params:{pageName:"Adicionar novo evento"}}).state({name:"MyFavorites",url:"/event/favorites",templateUrl:"app/logged/home.html",controller:"LoggedHomeController",controllerAs:"home",params:{event:null,pageName:"Meus eventos favoritos"},resolve:{events:["EventService",function(e){return e.listFavorites()}]}})}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(){function e(){return s}function t(e){var t=!0,o=!1,n=void 0;try{for(var a,r=s[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var i=a.value;if(i.id===e)return i}}catch(e){o=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(o)throw n}}return null}function o(e){s.push(e),e.id=l++}function n(e){c.push(e)}function a(){return c}function r(e){c.splice(c.indexOf(e),1)}function i(e){return c.indexOf(e)>=0}var l=4,s=[{id:1,nome:"Mega show de sertanejo",local:"Lavras",data:"21/05/2018",preco:"12,50",descricao:"Festa muito doida!",pontosVenda:"Paulinho do café"},{id:2,nome:"Ranxeira",local:"Lavras",data:"21/05/2018",preco:"12,50",descricao:"Festa muito doida!",pontosVenda:"Cantina da ema"},{id:3,nome:"MC Claudinho",local:"Lavras",data:"21/05/2018",preco:"12,50",descricao:"Festa muito doida!",pontosVenda:"Jardim do jacaré banguelo"}],c=[],u={};return u.list=e,u.get=t,u.add=o,u.addFavorite=n,u.removeFavorite=r,u.listFavorites=a,u.isFavorite=i,u}angular.module("app").service("EventService",e),e.$inject=[]}(),function(){function e(e){function t(t,o){e.success(t)}var o={};return o.show=t,o}angular.module("app").service("ToastService",e),e.$inject=["toastr"]}(),function(){function e(e,t){function o(){e.$on("$stateChangeSuccess",n),0===i.length&&"Home"!=t.current.name&&(i.push({name:"Home"}),r.hasPreviousState=!0)}function n(e,t,o,n,a){n&&n.name&&!o.ignore&&(i.push(n),r.hasPreviousState=!0),o&&o.pageName&&(r.currentPage={state:t.name,name:o.pageName})}function a(){var e=i.pop().name||"Home";0===i.length&&(r.hasPreviousState=!1),t.go(e,{ignore:!0})}var r=this;r.goBack=a,r.hasPreviousState=!1,r.currentPage=null;var i=[];o()}angular.module("app").controller("NavbarController",e),e.$inject=["$rootScope","$state"]}(),function(){function e(e,t){function o(){}function n(){t.go("Logged")}var a=this;a.login=n,o()}angular.module("app").controller("HomeController",e),e.$inject=["$scope","$state"]}(),function(){function e(e,t,o){function n(){}function a(e){t.go("EventDetails",{event:e,id:e.id})}var r=this;r.viewDetails=a,r.events=o,n()}angular.module("app").controller("LoggedHomeController",e),e.$inject=["$scope","$state","events"]}(),function(){function e(e,t,o,n,a){function r(){}function i(){a.addFavorite(c.event),n.show("Evento adicionado aos favoritos!")}function l(){a.removeFavorite(c.event),n.show("Evento removido com sucesso!")}function s(){return a.isFavorite(c.event)}var c=this;c.event=o,c.addFavorite=i,c.removeFromFavorites=l,c.isFavorite=s,r()}angular.module("app").controller("EventDetailsController",e),e.$inject=["$scope","$state","event","ToastService","EventService"]}(),function(){function e(e,t,o,n){function a(){}function r(){o.add(i.event),n.show("Evento cadastrado com sucesso!"),t.go("Logged",{ignore:!0})}var i=this;i.add=r,a()}angular.module("app").controller("EventAddController",e),e.$inject=["$scope","$state","EventService","ToastService"]}();